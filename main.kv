<CheckboxRange>:
    group: "range_of_pages"
    size_hint_x: .4

<MainContainer>:
    orientation: "vertical"
    my_font_size: dp(25)
    MDToolbar:
        id: toolbar
        elevation: 10
        title: app.title
        pos_hint: {"x": 0, "top": 1}
        size_hint_y: .1
        left_action_items: [['menu', lambda x: app.root.ids["nav_drawer"].set_state("open")]]
        right_action_items: [["dots-vertical", lambda x: app.tbar_dots_callback(x)]]
    BoxLayout:
        orientation: "vertical"
        padding: dp(10)
        FloatLayout:
            GridLayout:
                cols: 1
                pos_hint: {"center_x": .5, "top": .96}
                size_hint: .3, .05
                MDLabel:
                    text: "Print:"
                    text_size: self.size
                    halign: "center"
                    valign: "bottom"
                    font_size: root.my_font_size - 5
            GridLayout:
                rows: 1
                pos_hint: {"center_x": .5, "top": .9}
                size_hint: .3, .05
                CheckboxRange:
                    active: True
                MDLabel:
                    text: "All pages"
                    text_size: self.size
                    halign: "left"
                    valign: "center"
                    font_size: root.my_font_size - 7
            GridLayout:
                rows: 1
                pos_hint: {"center_x": .5, "top": .85}
                size_hint: .3, .05
                CheckboxRange:
                MDLabel:
                    text: "The range"
                    text_size: self.size
                    halign: "left"
                    valign: "center"
                    font_size: root.my_font_size - 7
            GridLayout:
                rows: 2
                pos_hint: {"center_x": .5, "top": .8}
                size_hint: .1, .15
                MDTextField:
                    id: tf_first_page
                    hint_text: "The first page"
                    helper_text: "Can't be empty"
                    helper_text_mode: "on_error"
                    required: True
                    input_filter: "int"
                    font_size: root.my_font_size - 5
    #                on_focus: if self.focus: app.menu_lang.open()
                MDTextField:
                    id: tf_last_page
                    hint_text: "The last page"
                    helper_text: "Can't be empty"
                    helper_text_mode: "on_error"
                    required: True
                    input_filter: "int"
                    font_size: root.my_font_size - 5
    #                on_focus: if self.focus: app.menu_lang.open()
            MDRectangleFlatButton:
                text: "Calculate"
                size_hint: .8, .1
                pos_hint: {"center_x": .5, "top": .6}
                font_size: root.my_font_size
    #            on_release: app.root?
            GridLayout:
                rows: 2
                pos_hint: {"x": 0, "top": .45}
                size_hint: 1, .15
                MDTextField:
                    id: tf_face_pages
                    hint_text: "Face pages"
                    input_filter: "int"
                    font_size: root.my_font_size - 5
    #                on_focus: if self.focus: app.menu_lang.open()
                MDTextField:
                    id: tf_verso_pages
                    hint_text: "Verso pages"
                    input_filter: "int"
                    font_size: root.my_font_size - 5
    #                on_focus: if self.focus: app.menu_lang.open()
            GridLayout:
                rows: 3
                pos_hint: {"x": 0, "top": .22}
                size_hint: 1, .15
                MDLabel:
                    id: lbl_total_pages_for_printing
                    text: "Total pages for printing: {}".format(8)
                    text_size: self.size
                    halign: "left"
                    valign: "center"
                    font_size: root.my_font_size - 5
                MDLabel:
                    id: lbl_necessary_sheets
                    text: "Necessary sheets for printing: {}".format(4)
                    text_size: self.size
                    halign: "left"
                    valign: "center"
                    font_size: root.my_font_size - 5
                MDLabel:
                    id: lbl_middle_of_booklet
                    text: "The middle of the booklet: {}".format((4, 5))
                    text_size: self.size
                    halign: "left"
                    valign: "center"
                    font_size: root.my_font_size - 5
#            Widget:
#    #        MDRaisedButton:
#            MDRectangleFlatButton:
#                text: "Close"
#                pos_hint: {"right": 1, "y": 0}
#    #            on_release: app.root?

<ItemDrawer>:
    theme_text_color: "Custom"
    on_release:
        self.parent.set_color_item(self)
        app.nav_drawer_funcs_dict[self.text](self)
#        app.nav_drawer_funcs_dict[self.text]()
    IconLeftWidget:
        id: icon
        icon: root.icon
        theme_text_color: "Custom"
        text_color: root.text_color

<IconListItem>:
    IconLeftWidget:
        id: icon
        icon: root.icon
        theme_text_color: "Custom"
#        text_color: root.text_color

<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"

    AnchorLayout:
        anchor_x: "left"
        size_hint_y: None
        height: avatar.height
        Image:
            id: avatar
            size_hint: None, None
            size: "56dp", "56dp"
            source: "data/images/booklet.ico"
    MDLabel:
        text: app.title
        font_style: "Button"
        size_hint_y: None
        height: self.texture_size[1]
    MDLabel:
        text: "alkostuchkov@gmail.com"
        font_style: "Caption"
        size_hint_y: None
        height: self.texture_size[1]
    ScrollView:
        DrawerList:
            id: md_list

<MainScreen>:
    MDNavigationLayout:
        ScreenManager:
            MDScreen:
                MainContainer:
#                    Widget:
        MDNavigationDrawer:
            id: nav_drawer
            ContentNavigationDrawer:
                id: content_drawer

#            canvas:
#                Color:
#                    rgba: 0, 1, 0, 1
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
